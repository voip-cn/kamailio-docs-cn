<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>cfg_rpc Module</title>
    <link rel="stylesheet" type="text/css" href="../../../../css/sr-doc.css" tppabs="http://kamailio.org/css/sr-doc.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="#gflags" title="cfg_rpc Module" />
    <link rel="next" href="#idp53064" title="Chapter 1. Admin Guide" />
  </head>
  <body>
    <div class="book" title="cfg_rpc Module">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="gflags"></a>cfg_rpc Module</h1>
          </div>
          <div>
            <div class="authorgroup">
              <div class="author">
                <h3 class="author"><span class="firstname">Miklos</span> <span class="surname">Tirpak</span></h3>
                <code class="email">&lt;<a class="email" href="mailto:miklos@iptel.org">miklos@iptel.org</a>&gt;</code>
              </div>
            </div>
          </div>
          <div>
            <p class="copyright">Copyright © 2007 iptelorg GmbH</p>
          </div>
        </div>
        <hr />
      </div>
      <div class="toc">
        <p>
          <strong>Table of Contents</strong>
        </p>
        <dl>
          <dt>
            <span class="chapter">
              <a href="#idp53064">1. Admin Guide</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="#cfg_rpc.overview">1. Overview</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="#cfg_rpc.dependencies">2. Dependencies</a>
                </span>
              </dt>
              <dd>
                <dl>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.depmods">2.1. SIP Router Modules</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.deplibs">2.2. External Libraries or Applications</a>
                    </span>
                  </dt>
                </dl>
              </dd>
              <dt>
                <span class="section">
                  <a href="#cfg_rpc.rpc">3. RPC Interface</a>
                </span>
              </dt>
              <dd>
                <dl>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.list">3.1. cfg.list</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.get">3.2. cfg.get</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.seti">3.3. cfg.seti</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.set_now_int">3.4. cfg.set_now_int</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.sets">3.5. cfg.sets</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.set_now_string">3.6. cfg.set_now_string</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.set">3.7. cfg.set</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.del">3.8. cfg.del</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.set_delayed_int">3.9. cfg.set_delayed_int</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.set_delayed_string">3.10. cfg.set_delayed_string</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.set_delayed">3.11. cfg.set_delayed</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.del_delayed">3.12. cfg.del_delayed</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.commit">3.13. cfg.commit</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.rollback">3.14. cfg.rollback</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.help">3.15. cfg.help</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.diff">3.16. cfg.diff</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.add_group_inst">3.17. cfg.add_group_inst</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#cfg_rpc.rpc.del_group_inst">3.18. cfg.del_group_inst</a>
                    </span>
                  </dt>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>
      </div>
      <div class="list-of-examples">
        <p>
          <strong>List of Examples</strong>
        </p>
        <dl>
          <dt>1.1. <a href="#idp3174960">Use <code class="varname">cfg.get</code> RPC command</a></dt>
          <dt>1.2. <a href="#idp1718424">Use <code class="varname">cfg.get</code> RPC command</a></dt>
          <dt>1.3. <a href="#idp1761184">Use <code class="varname">cfg.seti</code> RPC command</a></dt>
        </dl>
      </div>
      <div class="chapter" title="Chapter 1. Admin Guide">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="idp53064"></a>Chapter 1. Admin Guide</h2>
            </div>
          </div>
        </div>
        <div class="toc">
          <p>
            <strong>Table of Contents</strong>
          </p>
          <dl>
            <dt>
              <span class="section">
                <a href="#cfg_rpc.overview">1. Overview</a>
              </span>
            </dt>
            <dt>
              <span class="section">
                <a href="#cfg_rpc.dependencies">2. Dependencies</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.depmods">2.1. SIP Router Modules</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.deplibs">2.2. External Libraries or Applications</a>
                  </span>
                </dt>
              </dl>
            </dd>
            <dt>
              <span class="section">
                <a href="#cfg_rpc.rpc">3. RPC Interface</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.list">3.1. cfg.list</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.get">3.2. cfg.get</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.seti">3.3. cfg.seti</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.set_now_int">3.4. cfg.set_now_int</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.sets">3.5. cfg.sets</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.set_now_string">3.6. cfg.set_now_string</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.set">3.7. cfg.set</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.del">3.8. cfg.del</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.set_delayed_int">3.9. cfg.set_delayed_int</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.set_delayed_string">3.10. cfg.set_delayed_string</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.set_delayed">3.11. cfg.set_delayed</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.del_delayed">3.12. cfg.del_delayed</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.commit">3.13. cfg.commit</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.rollback">3.14. cfg.rollback</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.help">3.15. cfg.help</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.diff">3.16. cfg.diff</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.add_group_inst">3.17. cfg.add_group_inst</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#cfg_rpc.rpc.del_group_inst">3.18. cfg.del_group_inst</a>
                  </span>
                </dt>
              </dl>
            </dd>
          </dl>
        </div>
        <div class="section" title="1. Overview">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="cfg_rpc.overview"></a>1. Overview</h2>
              </div>
            </div>
          </div>
          <p>
	    The module implements RPC commands to set and get
	    configuration variables on-the-fly, that are declared
		by Kamailio core and by the modules.
	</p>
          <p>
		For example, it can be used to fine-tune values for
		global parameters such as debug, tcp/sctp/dns attributes,
	    	without the need of restart.
	</p>
          <p>
		RPC connector modules, such as <span class="quote">“<span class="quote">ctl</span>”</span> or <span class="quote">“<span class="quote">xmlrpc</span>”</span>, although
		not a dependecy, should be loaded in order to execute
		the RPC commands exported by this module. When the ctl module
		is loaded, the tool 'kamcmd' can be used to execute
		the RPC commands implemented in this module.
	</p>
        </div>
        <div class="section" title="2. Dependencies">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="cfg_rpc.dependencies"></a>2. Dependencies</h2>
              </div>
            </div>
          </div>
          <div class="section" title="2.1. SIP Router Modules">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.depmods"></a>2.1. SIP Router Modules</h3>
                </div>
              </div>
            </div>
            <p>
		The following modules must be loaded before this module:
			</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p>
				<span class="emphasis"><em>No dependencies on other SIP Router modules</em></span>.
			</p>
                </li>
              </ul>
            </div>
            <p>
		</p>
          </div>
          <div class="section" title="2.2. External Libraries or Applications">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.deplibs"></a>2.2. External Libraries or Applications</h3>
                </div>
              </div>
            </div>
            <p>
		The following libraries or applications must be installed before running
		SIP Router with this module loaded:
			</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p>
				<span class="emphasis"><em>None</em></span>.
			</p>
                </li>
              </ul>
            </div>
            <p>
		</p>
          </div>
        </div>
        <div class="section" title="3. RPC Interface">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="cfg_rpc.rpc"></a>3. RPC Interface</h2>
              </div>
            </div>
          </div>
          <p>
	The module implements the RPC commands documented in the next sections.
	</p>
          <div class="section" title="3.1. cfg.list">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.list"></a>3.1. cfg.list</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.list</em></span> - List the configuration
		variables. The function has one optional parameter:
		group name.
		</p>
            <div class="example">
              <a id="idp3174960"></a>
              <p class="title">
                <strong>Example 1.1. Use <code class="varname">cfg.get</code> RPC command</strong>
              </p>
              <div class="example-contents">
                <pre class="programlisting">...
# kamcmd cfg.list
...</pre>
              </div>
            </div>
            <br class="example-break" />
          </div>
          <div class="section" title="3.2. cfg.get">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.get"></a>3.2. cfg.get</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.get</em></span> - Get the value of
		a configuration variable. The function accepts two parameters:
		group name, variable name. The group name can optionally contain the
		group instance id, for example foo[5].
	    </p>
            <div class="example">
              <a id="idp1718424"></a>
              <p class="title">
                <strong>Example 1.2. Use <code class="varname">cfg.get</code> RPC command</strong>
              </p>
              <div class="example-contents">
                <pre class="programlisting">...
# kamcmd cfg.get core debug
...</pre>
              </div>
            </div>
            <br class="example-break" />
          </div>
          <div class="section" title="3.3. cfg.seti">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.seti"></a>3.3. cfg.seti</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.seti</em></span> - Set the value of
		a configuration variable and commit the change immediately.
		The function accepts three parameters: group name, variable
		name, integer value. The group name can optionally contain the
		group instance id, for example foo[5].
	    </p>
            <div class="example">
              <a id="idp1761184"></a>
              <p class="title">
                <strong>Example 1.3. Use <code class="varname">cfg.seti</code> RPC command</strong>
              </p>
              <div class="example-contents">
                <pre class="programlisting">...
# kamcmd cfg.seti core debug 1
...</pre>
              </div>
            </div>
            <br class="example-break" />
          </div>
          <div class="section" title="3.4. cfg.set_now_int">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.set_now_int"></a>3.4. cfg.set_now_int</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.set_now_int</em></span> - This is an alias to
		the command <span class="emphasis"><em>cfg.seti</em></span>.
	    </p>
          </div>
          <div class="section" title="3.5. cfg.sets">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.sets"></a>3.5. cfg.sets</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.sets</em></span> - Set the value of
		a configuration variable and commit the change immediately.
		The function accepts three parameters: group name, variable
		name, string value. The group name can optionally contain the
		group instance id, for example foo[5].
	    </p>
          </div>
          <div class="section" title="3.6. cfg.set_now_string">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.set_now_string"></a>3.6. cfg.set_now_string</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.set_now_string</em></span> - This is an alias to
		the command <span class="emphasis"><em>cfg.sets</em></span>.
	    </p>
          </div>
          <div class="section" title="3.7. cfg.set">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.set"></a>3.7. cfg.set</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.set</em></span> - Set the value of
		a configuration variable and commit the change immediately.
		This is a wrapper command for cfg.set_now_int and cfg.set_now_string
		depending on the type of the value provided.
		The function accepts three parameters: group name, variable
		name, int/string value. The group name can optionally contain the
		group instance id, for example foo[5].
	    </p>
          </div>
          <div class="section" title="3.8. cfg.del">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.del"></a>3.8. cfg.del</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.del</em></span> - Delete the value of
		a configuration variable from a group instance and commit the change immediately.
		The value is reset to the default value and it follows the changes
		of that.
		The function accepts two parameters: group name, variable
		name. The group name must contain the
		group instance id, for example foo[5].
	    </p>
          </div>
          <div class="section" title="3.9. cfg.set_delayed_int">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.set_delayed_int"></a>3.9. cfg.set_delayed_int</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.set_delayed_int</em></span> - Prepare the change of
		a configuration variable, but does not commit the new value yet.
		The function accepts three parameters: group name, variable
		name, integer value. The group name can optionally contain the
		group instance id, for example foo[5].
	    </p>
          </div>
          <div class="section" title="3.10. cfg.set_delayed_string">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.set_delayed_string"></a>3.10. cfg.set_delayed_string</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.set_delayed_string</em></span> - Prepare the change of
		a configuration variable, but does not commit the new value yet.
		The function accepts three parameters: group name, variable
		name, string value. The group name can optionally contain the
		group instance id, for example foo[5].
	    </p>
          </div>
          <div class="section" title="3.11. cfg.set_delayed">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.set_delayed"></a>3.11. cfg.set_delayed</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.set_delayed</em></span> - Prepare the change of
		a configuration variable, but does not commit the new value yet.
		This is a wrapper command for cfg.set_delayed_int and cfg.set_delayed_string
		depending on the type of the value provided.
		The function accepts three parameters: group name, variable
		name, int/string value. The group name can optionally contain the
		group instance id, for example foo[5].
	    </p>
          </div>
          <div class="section" title="3.12. cfg.del_delayed">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.del_delayed"></a>3.12. cfg.del_delayed</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.del_delayed</em></span> - Prepare the deletion of the value of
		a configuration variable from a group instance, but does not commit the change yet.
		The value is reset to the default value and it follows the changes
		of that.
		The function accepts two parameters: group name, variable
		name. The group name must contain the
		group instance id, for example foo[5].
	    </p>
          </div>
          <div class="section" title="3.13. cfg.commit">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.commit"></a>3.13. cfg.commit</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.commit</em></span> - Commit the previously
		prepared configuration changes. The function does not have
		any parameters.
	    </p>
          </div>
          <div class="section" title="3.14. cfg.rollback">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.rollback"></a>3.14. cfg.rollback</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.rollback</em></span> - Drop the prepared
		configuration changes. The function does not have any
		parameters.
	    </p>
          </div>
          <div class="section" title="3.15. cfg.help">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.help"></a>3.15. cfg.help</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.help</em></span> - Print the description of
		a configuration variable. The function accepts two parameters:
		group name, variable name.
	    </p>
          </div>
          <div class="section" title="3.16. cfg.diff">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.diff"></a>3.16. cfg.diff</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.diff</em></span> - List the pending
		configuration changes that have not been committed yet.
		The function does not have any parameters.
	    </p>
          </div>
          <div class="section" title="3.17. cfg.add_group_inst">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.add_group_inst"></a>3.17. cfg.add_group_inst</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.add_group_inst</em></span> - Add a new instance
		to an existing configuration group. The function accepts one parameter:
		group name[instance id], for example foo[5].
	    </p>
          </div>
          <div class="section" title="3.18. cfg.del_group_inst">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="cfg_rpc.rpc.del_group_inst"></a>3.18. cfg.del_group_inst</h3>
                </div>
              </div>
            </div>
            <p>
		<span class="emphasis"><em>cfg.del_group_inst</em></span> - Delete an instance
		of an existing configuration group. The function accepts one parameter:
		group name[instance id], for example foo[5].
	    </p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
