<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>TMREC Module</title>
    <link rel="stylesheet" type="text/css" href="../../../../css/sr-doc.css" tppabs="http://kamailio.org/css/sr-doc.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="#idm4340304" title="TMREC Module" />
    <link rel="next" href="#idp2376304" title="Chapter 1. Admin Guide" />
  </head>
  <body>
    <div class="book" title="TMREC Module">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="idm4340304"></a>TMREC Module</h1>
          </div>
          <div>
            <div class="authorgroup">
              <div class="author">
                <h3 class="author"><span class="firstname">Daniel-Constantin</span> <span class="surname">Mierla</span></h3>
                <code class="email">&lt;<a class="email" href="mailto:miconda@gmail.com">miconda@gmail.com</a>&gt;</code>
              </div>
              <div class="editor">
                <h4 class="editedby">Edited by</h4>
                <h3 class="editor"><span class="firstname">Daniel-Constantin</span> <span class="surname">Mierla</span></h3>
                <code class="email">&lt;<a class="email" href="mailto:miconda@gmail.com">miconda@gmail.com</a>&gt;</code>
              </div>
              <div class="editor">
                <h4 class="editedby">Edited by</h4>
                <h3 class="editor"><span class="firstname">Alex</span> <span class="surname">Balashov</span></h3>
                <code class="email">&lt;<a class="email" href="mailto:abalashov@evaristesys.com">abalashov@evaristesys.com</a>&gt;</code>
              </div>
              <div class="editor">
                <h4 class="editedby">Edited by</h4>
                <h3 class="editor"><span class="firstname">Richard</span> <span class="surname">Fuchs</span></h3>
                <code class="email">&lt;<a class="email" href="mailto:rfuchs@sipwise.com">rfuchs@sipwise.com</a>&gt;</code>
              </div>
            </div>
          </div>
          <div>
            <p class="copyright">Copyright © 2012 asipto.com</p>
          </div>
          <div>
            <p class="copyright">Copyright © 2012 Sipwise GmbH</p>
          </div>
        </div>
        <hr />
      </div>
      <div class="toc">
        <p>
          <strong>Table of Contents</strong>
        </p>
        <dl>
          <dt>
            <span class="chapter">
              <a href="#idp2376304">1. Admin Guide</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="#idp3411616">1. Overview</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="#idp1612256">2. Dependencies</a>
                </span>
              </dt>
              <dd>
                <dl>
                  <dt>
                    <span class="section">
                      <a href="#idp3249096">2.1. Kamailio Modules</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#idp3452064">2.2. External Libraries or Applications</a>
                    </span>
                  </dt>
                </dl>
              </dd>
              <dt>
                <span class="section">
                  <a href="#idp19464">3. Parameters</a>
                </span>
              </dt>
              <dd>
                <dl>
                  <dt>
                    <span class="section">
                      <a href="#idp2378216">3.1. <code class="varname">separator</code> (str)</a>
                    </span>
                  </dt>
                </dl>
              </dd>
              <dt>
                <span class="section">
                  <a href="#idp2591720">4. Functions</a>
                </span>
              </dt>
              <dd>
                <dl>
                  <dt>
                    <span class="section">
                      <a href="#tmrec.f.tmrec_match">4.1. 
		<code class="function">tmrec_match(timerec [, timestamp])</code>
	    </a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#tmrec.f.is_leap_year">4.2. 
		<code class="function">is_leap_year([year])</code>
	    </a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#tmrec.f.time_period_match">4.3. 
		<code class="function">time_period_match(period [, timestamp])</code>
	    </a>
                    </span>
                  </dt>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>
      </div>
      <div class="list-of-examples">
        <p>
          <strong>List of Examples</strong>
        </p>
        <dl>
          <dt>1.1. <a href="#idp1186952">Set <code class="varname">separator</code> parameter</a></dt>
          <dt>1.2. <a href="#idp3043792"><code class="function">tmrec_match</code> usage</a></dt>
          <dt>1.3. <a href="#idp3046832"><code class="function">is_leap_year</code> usage</a></dt>
          <dt>1.4. <a href="#idm6224"><code class="function">time_period_match</code> usage</a></dt>
        </dl>
      </div>
      <div class="chapter" title="Chapter 1. Admin Guide">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="idp2376304"></a>Chapter 1. Admin Guide</h2>
            </div>
          </div>
        </div>
        <div class="toc">
          <p>
            <strong>Table of Contents</strong>
          </p>
          <dl>
            <dt>
              <span class="section">
                <a href="#idp3411616">1. Overview</a>
              </span>
            </dt>
            <dt>
              <span class="section">
                <a href="#idp1612256">2. Dependencies</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="section">
                    <a href="#idp3249096">2.1. Kamailio Modules</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#idp3452064">2.2. External Libraries or Applications</a>
                  </span>
                </dt>
              </dl>
            </dd>
            <dt>
              <span class="section">
                <a href="#idp19464">3. Parameters</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="section">
                    <a href="#idp2378216">3.1. <code class="varname">separator</code> (str)</a>
                  </span>
                </dt>
              </dl>
            </dd>
            <dt>
              <span class="section">
                <a href="#idp2591720">4. Functions</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="section">
                    <a href="#tmrec.f.tmrec_match">4.1. 
		<code class="function">tmrec_match(timerec [, timestamp])</code>
	    </a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#tmrec.f.is_leap_year">4.2. 
		<code class="function">is_leap_year([year])</code>
	    </a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#tmrec.f.time_period_match">4.3. 
		<code class="function">time_period_match(period [, timestamp])</code>
	    </a>
                  </span>
                </dt>
              </dl>
            </dd>
          </dl>
        </div>
        <div class="section" title="1. Overview">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="idp3411616"></a>1. Overview</h2>
              </div>
            </div>
          </div>
          <p>
		This module provides time recurrence matching functions. The format
		of recurrence definitions is based on Internet Calendaring and 
		Scheduling Core Object Specification (Calendar COS - RFC 2445).
		It also provides a port of the Perl Time::Period module for generic
		time period matching.
	</p>
        </div>
        <div class="section" title="2. Dependencies">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="idp1612256"></a>2. Dependencies</h2>
              </div>
            </div>
          </div>
          <div class="section" title="2.1. Kamailio Modules">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idp3249096"></a>2.1. Kamailio Modules</h3>
                </div>
              </div>
            </div>
            <p>
		The following modules must be loaded before this module:
			</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p>
				<span class="emphasis"><em>None</em></span>.
			</p>
                </li>
              </ul>
            </div>
            <p>
		</p>
          </div>
          <div class="section" title="2.2. External Libraries or Applications">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idp3452064"></a>2.2. External Libraries or Applications</h3>
                </div>
              </div>
            </div>
            <p>
		The following libraries or applications must be installed before running
		Kamailio with this module loaded:
			</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p>
				<span class="emphasis"><em>None</em></span>
			</p>
                </li>
              </ul>
            </div>
            <p>
		</p>
          </div>
        </div>
        <div class="section" title="3. Parameters">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="idp19464"></a>3. Parameters</h2>
              </div>
            </div>
          </div>
          <div class="section" title="3.1. separator (str)">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idp2378216"></a>3.1. <code class="varname">separator</code> (str)</h3>
                </div>
              </div>
            </div>
            <p>
			Separator character used to delimit attributes in time
			reccurence definitions.
		</p>
            <p>
		<span class="emphasis"><em>
			Default value is '|'.
		</em></span>
		</p>
            <div class="example">
              <a id="idp1186952"></a>
              <p class="title">
                <strong>Example 1.1. Set <code class="varname">separator</code> parameter</strong>
              </p>
              <div class="example-contents">
                <pre class="programlisting">...
modparam("tmrec", "separator", ";")
...</pre>
              </div>
            </div>
            <br class="example-break" />
          </div>
        </div>
        <div class="section" title="4. Functions">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="idp2591720"></a>4. Functions</h2>
              </div>
            </div>
          </div>
          <div class="section" title="4.1.  tmrec_match(timerec [, timestamp])">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="tmrec.f.tmrec_match"></a>4.1. 
		<code class="function">tmrec_match(timerec [, timestamp])</code>
	    </h3>
                </div>
              </div>
            </div>
            <p>
			Match a time recurrence rule against the timestamp (UNIX epoch
			format). If the timestamp parameter is missing, the current UNIX
			epoch time is used.
		</p>
            <p>
			The parameters can include pseudo-variables.
		</p>
            <p>
			The timerec paramter is a list of attributes defined by RFC2445,
			delimited by the 'separator' (module parameter) character. The format
			of timerec parameter, using '|' as the separator, is (all in one line
			without white spaces):
		</p>
            <pre class="programlisting">...
[startdate]|[duration]|[frequency]|[until]|[interval]|[byday]
  |[bymonthday]|[byyearday]|[byweekno]|[bymonth]
...</pre>
            <p>
		When an attribute is not specified, the corresponding place must be left
		empty, provided that one or more additional attributes follow.
		</p>
            <p>
		Description of time recurrence attributes:
		</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>startdate</em></span> - date for the start of the first 
			period.
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>duration</em></span> - the duration of the time period.
			For a recurring interval, the <span class="quote">“<span class="quote">duration</span>”</span> parameter MUST
			be small enough such that subsequent intervals do not overlap. 
			For non-recurring intervals, durations of any positive length are 
			permitted.  Zero-length duration means <span class="quote">“<span class="quote">forever</span>”</span>. 
			Negative-length durations are not allowed. See RFC 2445 for
			the format of duration.
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>frequency</em></span> - can be one of the following values: 
			<span class="quote">“<span class="quote">daily</span>”</span> -
			specify repeating periods based on an interval of a day or more;
			<span class="quote">“<span class="quote">weekly</span>”</span> - specify repeating periods based on an 
			interval of a week or more; <span class="quote">“<span class="quote">monthly</span>”</span> - specify 
			repeating periods based on an interval of a month or more; 
			<span class="quote">“<span class="quote">yearly</span>”</span> - specify repeating periods based
			on an interval of a year or more. These values are case-insensitive.
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>until</em></span> - defines an iCalendar COS DATE or DATE-TIME
			value which bounds the recurrence rule in an inclusive manner. If the
			value specified by <span class="quote">“<span class="quote">until</span>”</span> is synchronized with the 
			specified recurrence, this date or date-time becomes the last instance 
			of the recurrence. If it is not present, the recurrence is considered 
			to repeat forever.
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>interval</em></span> - a positive integer 
			representing how often the recurrence rule repeats. The default value
			is <span class="quote">“<span class="quote">1</span>”</span>, meaning every day for a <span class="quote">“<span class="quote">daily</span>”</span> rule,
			every week for a <span class="quote">“<span class="quote">weekly</span>”</span>
			rule, every month for a <span class="quote">“<span class="quote">monthly</span>”</span> rule and every year for
			a <span class="quote">“<span class="quote">yearly</span>”</span> rule.
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>byday</em></span> - a comma-separated list short codes of days 
			of the week. The days are specified as: <span class="quote">“<span class="quote">MO</span>”</span> for Monday;
			<span class="quote">“<span class="quote">TU</span>”</span> for Tuesday; <span class="quote">“<span class="quote">WE</span>”</span> for Wednesday; 
			<span class="quote">“<span class="quote">TH</span>”</span> for Thursday; <span class="quote">“<span class="quote">FR</span>”</span> for 
			Friday; <span class="quote">“<span class="quote">SA</span>”</span> for Saturday; <span class="quote">“<span class="quote">SU</span>”</span> 
			for Sunday. These values are case insensitive.
			</p>
                  <p>
			Each <span class="quote">“<span class="quote">byday</span>”</span> value can also be prefixed by a positive 
			(+n) or negative (-n) integer. If present, this indicates the n-th 
			occurrence of the specific day within the <span class="quote">“<span class="quote">monthly</span>”</span> or 
			<span class="quote">“<span class="quote">yearly</span>”</span> recurrence. For example, within a 
			<span class="quote">“<span class="quote">monthly</span>”</span> rule, +1MO (or simply 1MO) represents the first 
			Monday within the month, whereas -1MO represents the last Monday of
			the month. If an integer modifier is not present, it means all days
			of this type within the specified frequency. For example, within a 
			<span class="quote">“<span class="quote">monthly</span>”</span> rule, MO represents all Mondays within the month.
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>bymonthday</em></span> - a comma-separated
			list of days of the month. Valid values are 1 to 31 or -31 to -1. For 
			example, -10 represents the tenth to the last day of the month.
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>byyearday</em></span> - a comma-separated list of 
			days of the year. Valid values are 1 to 366 or -366 to -1. For example,
			-1 represents the last day of the year (December 31st) and -306 
			represents the 306th day before the last day of the year (March 1st).
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>byweekno</em></span> - a comma-separated list of 
			ordinals specifying weeks of the year. Valid values are 1 to 53 or 
			-53 to -1.
			</p>
                </li>
                <li class="listitem">
                  <p>
			<span class="emphasis"><em>bymonth</em></span> - parameter specifies a comma-separated
			list of months of the year. Valid values are 1 to 12.
		</p>
                </li>
              </ul>
            </div>
            <p>
		A recurrence is specified by including the <span class="quote">“<span class="quote">frequency</span>”</span> 
		parameter, which indicates the type of the recurrence rule. Parameters 
		other than <span class="quote">“<span class="quote">startdate</span>”</span>
		and <span class="quote">“<span class="quote">duration</span>”</span> SHOULD NOT be specified unless 
		<span class="quote">“<span class="quote">frequency</span>”</span> is set.
		</p>
            <p>
		If invalid byxxx parameter values are found (ie, bymonthday=<span class="quote">“<span class="quote">30</span>”</span> in February), 
		they are simply ignored. 
		</p>
            <p>
		Byxxx parameters modify the recurrence rule matching. The Byxxx rule, as
		an attribute for a period of time which is greater than or equal to the 
		frequency, generally reduces or limits the number of occurrences for the 
		recurrence definition. For example, frequency=<span class="quote">“<span class="quote">daily</span>”</span> 
		bymonth=<span class="quote">“<span class="quote">3</span>”</span> reduces the number of
		recurrence instances from all days (if the <span class="quote">“<span class="quote">bymonth</span>”</span> 
		parameter is not present) to all days in March. Byxxx parameters for 
		a period of time less than the frequency generally increases or expands 
		the number of occurrences of the recurrence. For example, 
		frequency=<span class="quote">“<span class="quote">yearly</span>”</span> bymonth=<span class="quote">“<span class="quote">8,9</span>”</span>
		increases the number of days within the yearly recurrence set from 1 
		(if <span class="quote">“<span class="quote">bymonth</span>”</span> parameter is not present) to 2.
		</p>
            <p>
		If multiple Byxxx parameters are specified, then after evaluating the
		specified <span class="quote">“<span class="quote">frequency</span>”</span> and <span class="quote">“<span class="quote">interval</span>”</span> parameters,
		the Byxxx parameters are 
		applied to the current set of evaluated occurrences in the following
		order: <span class="quote">“<span class="quote">bymonth</span>”</span>, <span class="quote">“<span class="quote">byweekno</span>”</span>, 
		<span class="quote">“<span class="quote">byyearday</span>”</span>, <span class="quote">“<span class="quote">bymonthday</span>”</span>, 
		<span class="quote">“<span class="quote">byday</span>”</span>; then <span class="quote">“<span class="quote">until</span>”</span> is  evaluated.
		</p>
            <p>
		Next is an example of evaluating multiple Byxxx parameters.
		</p>
            <p>
		startdate=<span class="quote">“<span class="quote">20100101T093000</span>”</span> duration=<span class="quote">“<span class="quote">10H30M</span>”</span>
		frequency=<span class="quote">“<span class="quote">yearly</span>”</span> interval=<span class="quote">“<span class="quote">4</span>”</span> 
		bymonth=<span class="quote">“<span class="quote">3</span>”</span> byday=<span class="quote">“<span class="quote">SU</span>”</span>
		</p>
            <p>
		First, the interval=<span class="quote">“<span class="quote">4</span>”</span> would be applied to 
		frequency=<span class="quote">“<span class="quote">yearly</span>”</span> to match on <span class="quote">“<span class="quote">every 4th year</span>”</span>
		. Then, bymonth=<span class="quote">“<span class="quote">1</span>”</span> would be applied to match on 
		<span class="quote">“<span class="quote">every March, every 4th year</span>”</span>. Then,
		byday=<span class="quote">“<span class="quote">SU</span>”</span> would be applied to match on <span class="quote">“<span class="quote">every 
		Sunday in March, every 4th year, from 9:30 to 20:00 </span>”</span>. The start
		and end hours:minutes have been retrieved from the
		<span class="quote">“<span class="quote">startdate</span>”</span> and <span class="quote">“<span class="quote">duration</span>”</span> parameters.
		</p>
            <p>
		This function can be used in ANY_ROUTE.
		</p>
            <div class="example">
              <a id="idp3043792"></a>
              <p class="title">
                <strong>Example 1.2. <code class="function">tmrec_match</code> usage</strong>
              </p>
              <div class="example-contents">
                <pre class="programlisting">...
	if(tmrec_match("20120101T000000|PT24H|weekly|||SA,SU")
        xdbg("it is weekend!\n");
    if(tmrec_match("20120101T083000|PT10H|weekly|||MO,TU,WE,TH,FR")
        xdbg("it is with working hours\n");
...</pre>
              </div>
            </div>
            <br class="example-break" />
          </div>
          <div class="section" title="4.2.  is_leap_year([year])">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="tmrec.f.is_leap_year"></a>4.2. 
		<code class="function">is_leap_year([year])</code>
	    </h3>
                </div>
              </div>
            </div>
            <p>
			Return true if the value from parameter is a leap year. If the
			parameter is missing, then the year from the current time is taken.
		</p>
            <p>
		The parameter can be pseudo-variable.
		</p>
            <p>
		This function can be used in ANY_ROUTE.
		</p>
            <div class="example">
              <a id="idp3046832"></a>
              <p class="title">
                <strong>Example 1.3. <code class="function">is_leap_year</code> usage</strong>
              </p>
              <div class="example-contents">
                <pre class="programlisting">...
if(is_leap_year("2010"))
...</pre>
              </div>
            </div>
            <br class="example-break" />
          </div>
          <div class="section" title="4.3.  time_period_match(period [, timestamp])">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="tmrec.f.time_period_match"></a>4.3. 
		<code class="function">time_period_match(period [, timestamp])</code>
	    </h3>
                </div>
              </div>
            </div>
            <p>
			Matches the point in time specified by the timestamp parameter, or
			the current time if the parameter is missing, against the given
			period specification. Returns 1 if it matches, -1 if it doesn't,
			and a value &lt;= -2 if there was an error.
		</p>
            <p>
			The time period specification follows the Perl Time::Period module.
			It is a string and consists of zero or more sub-period specifications,
			separated by commas. The period matches if at least one of the
			sub-periods matches, or if no sub-periods were given at all (an
			empty string).
		</p>
            <p>
			Each sub-period is a list of one or more scale definitions,
			optionally separated by space characters. The sub-period matches if
			all of the given scales within that sub-period match. For each scale
			given, a single value or a range of values (which is two values
			separated by a hyphen) can be specified. Multiple
			values or multiple ranges (or a combination thereof) within a single
			scale is also possible. If a certain scale is specified more than once,
			the previous values or ranges for that scale are extended by the newly
			given ones. If a particular scale is not mentioned at all within a
			sub-period, then no matching is performed for that scale.
		</p>
            <p>
			The following scales are supported and understood. Each scale also has
			a respective short code, either one can be used. A single scale
			definition consists of the scale name, followed by an opening brace,
			followed by the list of values, followed by a closing brace.
			</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>year</em></span> or <span class="emphasis"><em>yr</em></span>
					- Either given as a full 4-digit number &gt;= 1970, or
					as a 2-digit number, in which case it will be understood
					to be within the current century.
				</p>
                </li>
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>month</em></span> or <span class="emphasis"><em>mo</em></span>
					- Month of the year, either a number between 1 and 12,
					or at least the first 3 letters of a spelled out month
					name, e.g. <span class="quote">“<span class="quote">jan</span>”</span>, <span class="quote">“<span class="quote">janua</span>”</span>
					or <span class="quote">“<span class="quote">january</span>”</span> will all work.
				</p>
                </li>
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>week</em></span> or <span class="emphasis"><em>wk</em></span>
					- Week of the month, a number between 1 and 6. The
					first day of the week is Sunday.
				</p>
                </li>
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>yday</em></span> or <span class="emphasis"><em>yd</em></span>
					- Day of the year, a number between 1 and 366.
				</p>
                </li>
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>mday</em></span> or <span class="emphasis"><em>md</em></span>
					- Day of the month, a number between 1 and 31.
				</p>
                </li>
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>wday</em></span> or <span class="emphasis"><em>wd</em></span>
					- Day of the week, either a number between 1 and 7, or
					at least the first 2 letters of a spelled out weekday
					name (analogous to the <span class="quote">“<span class="quote">month</span>”</span> scale).
					Sunday is the first day of the week.
				</p>
                </li>
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>hour</em></span> or <span class="emphasis"><em>hr</em></span>
					- A number between 0 and 23. Unlike the Perl Time::Period
					module, <span class="quote">“<span class="quote">am</span>”</span> or <span class="quote">“<span class="quote">pm</span>”</span>
					specifications are not supported.
				</p>
                </li>
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>minute</em></span> or <span class="emphasis"><em>min</em></span>
					- A number between 0 and 59.
				</p>
                </li>
                <li class="listitem">
                  <p>
					<span class="emphasis"><em>second</em></span> or <span class="emphasis"><em>sec</em></span>
					- A number between 0 and 60 (to allow for leap seconds).
				</p>
                </li>
              </ul>
            </div>
            <p>
		</p>
            <p>
			The parameters can include pseudo-variables. Whitespace (more
			precisely, the space character only) can occur anywhere, but is
			optional. Ranges in all scales (with the exception of the
			<span class="quote">“<span class="quote">year</span>”</span> scale) are allowed to wrap-around, e.g. a weekday
			scale of <span class="quote">“<span class="quote">{fri-tue}</span>”</span> is equivalent to
			<span class="quote">“<span class="quote">{fri-sat,sun-tue}</span>”</span>.
		</p>
            <div class="example">
              <a id="idm6224"></a>
              <p class="title">
                <strong>Example 1.4. <code class="function">time_period_match</code> usage</strong>
              </p>
              <div class="example-contents">
                <pre class="programlisting">...
if(time_period_match("wd{2-6} hr{8-16}, wd{1-5} hr{17} min{0-29}"))
	xdbg("Monday to Friday, 8:00 to 17:30\n");

if(time_period_match("weekday { sat sun }, weekday {mo-fr} hr {17-8},wd{mo-wed}hr{15 16 9}"))
	xdbg("We're closed - open only Monday to Wednesday 10:00-15:00, Thursday and Friday 9:00-17:00");
...</pre>
              </div>
            </div>
            <br class="example-break" />
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
