<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Dnssec Module</title>
    <link rel="stylesheet" type="text/css" href="../../../../css/sr-doc.css" tppabs="http://kamailio.org/css/sr-doc.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="#idm4438984" title="Dnssec Module" />
    <link rel="next" href="#idp2798808" title="Chapter1.Admin Guide" />
  </head>
  <body>
    <div class="book" title="Dnssec Module">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="idm4438984"></a>Dnssec Module</h1>
          </div>
          <div>
            <div class="authorgroup">
              <div class="author">
                <h3 class="author"><span class="firstname">Marius</span> <span class="surname">Zbihlei</span></h3>
                <div class="affiliation">
                  <span class="orgname">
                    <br />
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div>
            <p class="copyright">Copyright 漏 2013 </p>
          </div>
        </div>
        <hr />
      </div>
      <div class="toc">
        <p>
          <strong>Table of Contents</strong>
        </p>
        <dl>
          <dt>
            <span class="chapter">
              <a href="#idp2798808">1. Admin Guide</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="#idp1259144">1. Overview</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="#idm4343776">2. Dependencies</a>
                </span>
              </dt>
              <dd>
                <dl>
                  <dt>
                    <span class="section">
                      <a href="#idp1665616">2.1. Kamailio Modules</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="#idp1131376">2.2. External Libraries or Applications</a>
                    </span>
                  </dt>
                </dl>
              </dd>
              <dt>
                <span class="section">
                  <a href="#idp2537416">3. Parameters</a>
                </span>
              </dt>
              <dd>
                <dl>
                  <dt>
                    <span class="section">
                      <a href="#idp2465552">3.1. <code class="varname">general_query_flags</code> (integer)</a>
                    </span>
                  </dt>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>
      </div>
      <div class="list-of-examples">
        <p>
          <strong>List of Examples</strong>
        </p>
        <dl>
          <dt>1.1. <a href="#idp233088">Set <code class="varname">enable_full_lr</code> parameter</a></dt>
        </dl>
      </div>
      <div class="chapter" title="Chapter1.Admin Guide">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="idp2798808"></a>Chapter1.Admin Guide</h2>
            </div>
          </div>
        </div>
        <div class="toc">
          <p>
            <strong>Table of Contents</strong>
          </p>
          <dl>
            <dt>
              <span class="section">
                <a href="#idp1259144">1. Overview</a>
              </span>
            </dt>
            <dt>
              <span class="section">
                <a href="#idm4343776">2. Dependencies</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="section">
                    <a href="#idp1665616">2.1. Kamailio Modules</a>
                  </span>
                </dt>
                <dt>
                  <span class="section">
                    <a href="#idp1131376">2.2. External Libraries or Applications</a>
                  </span>
                </dt>
              </dl>
            </dd>
            <dt>
              <span class="section">
                <a href="#idp2537416">3. Parameters</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="section">
                    <a href="#idp2465552">3.1. <code class="varname">general_query_flags</code> (integer)</a>
                  </span>
                </dt>
              </dl>
            </dd>
          </dl>
        </div>
        <div class="section" title="1.Overview">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="idp1259144"></a>1.Overview</h2>
              </div>
            </div>
          </div>
          <p>
		The module replaces the common system dns resolver functions from core
		with the DNSSEC wrappers provided by libval. Practically, by loading
		the module, Kamailio will make use of extensions to DNS which provide
		origin authentication of DNS data, authenticated denial of existence,
		and data integrity.
	</p>
          <p>
		There is no module parameter that should be set nor fuction that has to
		be executed by the configuration file. Existing SIP server deployments
		can be updated to use DNSSEC by loading this module and setting
		appropriate DNS server to the operating system.
	</p>
          <p>
		Installing libval can be done from
		<a class="ulink" href="javascript:if(confirm('https://www.dnssec-tools.org/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://www.dnssec-tools.org/'" tppabs="https://www.dnssec-tools.org/">https://www.dnssec-tools.org</a>.
	</p>
          <p>
		More details about DNSSEC are available at:
		<a class="ulink" href="javascript:if(confirm('http://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions'" tppabs="http://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions">
			http://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions</a>.
	</p>
        </div>
        <div class="section" title="2.Dependencies">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="idm4343776"></a>2.Dependencies</h2>
              </div>
            </div>
          </div>
          <div class="section" title="2.1.Kamailio Modules">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idp1665616"></a>2.1.Kamailio Modules</h3>
                </div>
              </div>
            </div>
            <p>
		The following modules must be loaded before this module:
			</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p>
				<span class="emphasis"><em>No dependencies on other Kamailio modules</em></span>.
			</p>
                </li>
              </ul>
            </div>
            <p>
		</p>
          </div>
          <div class="section" title="2.2.External Libraries or Applications">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idp1131376"></a>2.2.External Libraries or Applications</h3>
                </div>
              </div>
            </div>
            <p>
		The following libraries or applications must be installed before 
		running Kamailio with this module loaded:
			</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p>
				<span class="emphasis"><em>libval</em></span> - check
				<a class="ulink" href="javascript:if(confirm('https://www.dnssec-tools.org/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://www.dnssec-tools.org/'" tppabs="https://www.dnssec-tools.org/">https://www.dnssec-tools.org</a>
				for installation guidelines.
			</p>
                </li>
              </ul>
            </div>
            <p>
		</p>
          </div>
        </div>
        <div class="section" title="3.Parameters">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="idp2537416"></a>3.Parameters</h2>
              </div>
            </div>
          </div>
          <div class="section" title="3.1.general_query_flags (integer)">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idp2465552"></a>3.1.<code class="varname">general_query_flags</code> (integer)</h3>
                </div>
              </div>
            </div>
            <p> Set this parameter to an integer value containing of an ORed result of one or more of the following
		values
		(constant present only for documentation process, as they are mostly mapped to libval flags).Setting this
		parameter will cause the libval defaults to be completely overwritten</p>
            <p>QUERY_DONT_VALIDATE == 1&lt;&lt;0
		causes the validator to disable validation for this query.</p>
            <p>QUERY_IGNORE_SKEW == 1&lt;&lt;1
		causes the validator to disable checking signature inception and expiration times on RRSIGs.</p>
            <p>QUERY_AC_DETAIL == 1&lt;&lt;2 
		causes the validator to copy the authentication chain details into the val_rc_answer member within the returned val_result_chain structure.
		</p>
            <p>
		QUERY_NO_DLV == 1&lt;&lt;3
		causes the validator to disable DLV processing for this query. This is only available if the libval(3) library has been compiled with DLV support.
		</p>
            <p>
		QUERY_NO_EDNS0_FALLBACK = 1&lt;&lt;4
		In querying various name servers, libsres will also attempt multiple EDNS0 sizes, ending with a query that has EDNS0 disabled (i.e. no CD bit set). This option causes libval to disable EDNS0 fallback for the query.
		</p>
            <p>
		QUERY_RECURSE == 1&lt;&lt;5
		forces libval to recursively answer the query by iteratively querying various name servers in the delegation hierarchy, instead of requesting this information from any caching name server that may be configured in dnsval.conf
		</p>
            <p>
		SKIP_RESOLVER == 1&lt;&lt;6
		forces libval to only look at its cache while trying to resolve a name.
		</p>
            <p>
		SKIP_CACHE == 1&lt;&lt;7
		forces libval to ignore cached data while trying to resolve a name.
		</p>
            <p>
              <span class="emphasis">
                <em> Default value is 0(no changes)</em>
              </span>
            </p>
            <div class="example">
              <a id="idp233088"></a>
              <p class="title">
                <strong>Example1.1.Set <code class="varname">enable_full_lr</code> parameter</strong>
              </p>
              <div class="example-contents">
                <pre class="programlisting"> ...
 modparam("dnssec", "general_query_flags", 1) # QUERY_DONT_VALIDATE disable validation  
 modparam("dnssec", "general_query_flags", 10) # QUERY_IGNORE_SKEW | QUERY_NO_DLV
 ...</pre>
              </div>
            </div>
            <br class="example-break" />
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
